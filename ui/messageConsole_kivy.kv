<MainWindow_kivy>:
    # Python 側で拾う参照
    message_label: message_label
    entry: entry
    scroll: scroll
    spinner_label: spinner_label

    BoxLayout:
        orientation: "vertical"

        # 上部: メッセージ表示
        ScrollView:
            id: scroll
            do_scroll_x: False
            do_scroll_y: True

            Label:
                id: message_label
                text: ""
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                markup: True   # ← 色付けや [color] タグ用

        # 中央: スピナー
        Label:
            id: spinner_label
            text: ""
            size_hint_y: None
            height: self.texture_size[1]

        # 下部: 入力欄とボタン
        RelativeLayout:
            size_hint_y: None
            height: "40dp"

            TextInput:
                id: entry
                multiline: True
                size_hint: (1, 1)

            Button:
                id: enterButton
                text: "▶"
                size_hint: (None, None)
                size: "40dp", "40dp"
                pos_hint: {"right": 1, "y": 0}
                on_press: root.on_clicled_enterButton()

